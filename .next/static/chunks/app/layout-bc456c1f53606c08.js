(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{194:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,1666,23)),Promise.resolve().then(r.t.bind(r,6499,23)),Promise.resolve().then(r.bind(r,814)),Promise.resolve().then(r.t.bind(r,347,23)),Promise.resolve().then(r.bind(r,7454)),Promise.resolve().then(r.bind(r,4277)),Promise.resolve().then(r.bind(r,5405)),Promise.resolve().then(r.bind(r,4915)),Promise.resolve().then(r.bind(r,5216)),Promise.resolve().then(r.bind(r,7488)),Promise.resolve().then(r.bind(r,5313))},7454:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>o});var s=r(5155),a=r(696);function o(e){let{children:t}=e;return(0,s.jsx)(a.CP,{children:t})}},4277:(e,t,r)=>{"use strict";r.d(t,{ErrorBoundary:()=>l});var s=r(5155),a=r(2115),o=r(3950);class l extends a.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t)}render(){return this.state.hasError?(0,s.jsx)("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl p-8 shadow-xl text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(o.A,{size:32,className:"text-red-600"})}),(0,s.jsx)("h1",{className:"text-2xl font-serif font-bold text-coffee-dark mb-4",children:"Oops! Something went wrong"}),(0,s.jsx)("p",{className:"text-coffee-medium mb-6",children:"We encountered an unexpected error. Please try refreshing the page."}),(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-gold-accent text-coffee-dark px-6 py-3 rounded-full font-bold hover:bg-coffee-dark hover:text-gold-accent transition-all",children:"Refresh Page"})]})}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}},5405:(e,t,r)=>{"use strict";r.d(t,{LayoutWrapper:()=>S});var s=r(5155),a=r(6046),o=r(2115),l=r(8173),n=r.n(l),i=r(696),c=r(4915),d=r(4641),x=r(8474),m=r(1466),f=r(1719),h=r(2640),u=r(767),g=r(6710),p=r(591),v=r(8633),b=r(2022);function j(){var e,t,r,a,l,j;let{data:y}=(0,i.wV)(),{items:N,setIsOpen:w}=(0,c._)(),[k,C]=(0,o.useState)(!1),[S,P]=(0,o.useState)(!1),[E,A]=(0,o.useState)(!1),z=(0,o.useRef)(null);(0,o.useEffect)(()=>{let e=()=>{A(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,o.useEffect)(()=>{let e=e=>{z.current&&!z.current.contains(e.target)&&P(!1)};return S&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[S]);let O=()=>C(!k);return(0,s.jsxs)("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 ".concat(E?"bg-coffee-dark/95 backdrop-blur-md border-b border-gold-accent/10 py-2":"bg-transparent py-4"),children:[(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsxs)(n(),{href:"/",className:"flex items-center gap-2 group",children:[(0,s.jsx)("div",{className:"bg-gold-accent/10 p-2 rounded-full group-hover:bg-gold-accent/20 transition-colors duration-300",children:(0,s.jsx)(d.A,{className:"h-6 w-6 text-gold-accent"})}),(0,s.jsx)("span",{className:"text-xl font-serif font-bold text-coffee-cream tracking-wide group-hover:text-gold-light transition-colors duration-300",children:"BrewHouse"})]}),(0,s.jsx)("div",{className:"hidden md:flex items-center space-x-8",children:["Home","Menu","Gallery","About","Contact"].map(e=>(0,s.jsxs)(n(),{href:"Home"===e?"/":"Menu"===e?"/menu":"/".concat(e.toLowerCase()),className:"text-coffee-cream/90 hover:text-gold-accent font-medium transition-colors relative group text-sm uppercase tracking-wider",children:[e,(0,s.jsx)("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gold-accent transition-all duration-300 group-hover:w-full"})]},e))}),(0,s.jsxs)("div",{className:"hidden md:flex items-center gap-6",children:[(0,s.jsxs)("button",{onClick:()=>w(!0),className:"relative p-2 text-coffee-cream hover:text-gold-accent transition-colors group",children:[(0,s.jsx)(x.A,{size:20}),N.length>0&&(0,s.jsx)("span",{className:"absolute -top-1 -right-1 bg-gold-accent text-coffee-dark text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center transform group-hover:scale-110 transition-transform",children:N.length})]}),y?(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>P(!S),className:"flex items-center gap-3 px-3 py-2 text-coffee-cream hover:text-gold-accent transition-colors rounded-full hover:bg-white/5",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gold-accent/20 rounded-full flex items-center justify-center",children:(0,s.jsx)(m.A,{size:16})}),(0,s.jsx)("span",{className:"text-sm font-medium",children:null===(e=y.user)||void 0===e?void 0:e.name}),(0,s.jsx)(f.A,{size:16,className:"transition-transform ".concat(S?"rotate-180":"")})]}),(0,s.jsx)(v.N,{children:S&&(0,s.jsxs)(b.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-64 bg-coffee-dark/95 backdrop-blur-xl border border-gold-accent/20 rounded-xl shadow-xl overflow-hidden z-50",children:[(0,s.jsx)("div",{className:"p-4 border-b border-gold-accent/10",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gold-accent/20 rounded-full flex items-center justify-center",children:(0,s.jsx)(m.A,{size:20})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-coffee-cream font-medium",children:null===(t=y.user)||void 0===t?void 0:t.name}),(0,s.jsx)("p",{className:"text-coffee-cream/60 text-sm",children:null===(r=y.user)||void 0===r?void 0:r.email})]})]})}),(0,s.jsxs)("div",{className:"py-2",children:[[{name:"Products",href:"/products"},{name:"Gift Cards",href:"/gift-cards"},{name:"Blog",href:"/blog"},{name:"Team",href:"/team"},{name:"Rewards",href:"/rewards"},{name:"Orders",href:"/orders"},{name:"Profile",href:"/profile"}].map(e=>(0,s.jsx)(n(),{href:e.href,className:"block px-4 py-3 text-coffee-cream hover:text-gold-accent hover:bg-white/5 transition-all",onClick:()=>P(!1),children:e.name},e.name)),(null==y?void 0:null===(a=y.user)||void 0===a?void 0:a.email)==="admin@brewhouse.com"&&(0,s.jsxs)(n(),{href:"/admin",className:"flex items-center gap-3 px-4 py-3 text-coffee-cream hover:text-gold-accent hover:bg-white/5 transition-all",onClick:()=>P(!1),children:[(0,s.jsx)(h.A,{size:16}),(0,s.jsx)("span",{children:"Admin Dashboard"})]}),(0,s.jsx)("div",{className:"border-t border-gold-accent/10 mt-2 pt-2",children:(0,s.jsx)("button",{onClick:()=>{(0,i.CI)(),P(!1)},className:"w-full text-left px-4 py-3 text-coffee-cream hover:text-gold-accent hover:bg-white/5 transition-all",children:"Sign Out"})})]})]})})]}):(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(n(),{href:"/auth/signup",className:"text-coffee-cream hover:text-gold-accent font-medium text-sm uppercase tracking-wider transition-colors",children:"Sign Up"}),(0,s.jsx)("button",{onClick:()=>(0,i.Jv)(),className:"px-6 py-2 bg-gold-accent text-coffee-dark rounded-full text-sm font-bold hover:bg-gold-light hover:shadow-lg hover:shadow-gold-accent/20 transition-all duration-300",children:"Sign In"})]})]}),(0,s.jsx)("button",{onClick:O,className:"md:hidden text-coffee-cream hover:text-gold-accent transition-colors",children:k?(0,s.jsx)(u.A,{size:24}):(0,s.jsx)(g.A,{size:24})})]})}),(0,s.jsx)(v.N,{children:k&&(0,s.jsx)(b.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-coffee-dark/95 backdrop-blur-xl border-t border-gold-accent/10 overflow-hidden",children:(0,s.jsxs)("div",{className:"px-4 pt-4 pb-6 space-y-2",children:[["Home","Menu","Products","Gift Cards","About","Gallery","Blog","Team","Rewards","Orders","Contact"].map(e=>(0,s.jsx)(n(),{href:"Home"===e?"/":"Gift Cards"===e?"/gift-cards":"/".concat(e.toLowerCase().replace(" ","-")),className:"block px-4 py-3 text-coffee-cream hover:text-gold-accent hover:bg-white/5 rounded-lg font-medium transition-all",onClick:O,children:e},e)),(0,s.jsxs)("div",{className:"border-t border-white/10 mt-4 pt-4",children:[(0,s.jsxs)("button",{onClick:()=>{w(!0),C(!1)},className:"flex items-center gap-3 px-4 py-3 text-coffee-cream hover:text-gold-accent hover:bg-white/5 rounded-lg font-medium w-full text-left transition-all",children:[(0,s.jsx)(x.A,{size:20}),(0,s.jsx)("span",{children:"Cart"}),N.length>0&&(0,s.jsx)("span",{className:"bg-gold-accent text-coffee-dark text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center ml-auto",children:N.length})]}),(null==y?void 0:null===(l=y.user)||void 0===l?void 0:l.email)==="admin@brewhouse.com"&&(0,s.jsxs)(n(),{href:"/admin",className:"flex items-center gap-3 px-4 py-3 text-coffee-cream hover:text-gold-accent hover:bg-white/5 rounded-lg font-medium transition-all",onClick:O,children:[(0,s.jsx)(h.A,{size:20}),(0,s.jsx)("span",{children:"Admin Dashboard"})]})]}),(0,s.jsx)("div",{className:"border-t border-white/10 mt-4 pt-4",children:y?(0,s.jsxs)("div",{className:"space-y-3 px-4",children:[(0,s.jsxs)("span",{className:"block text-coffee-cream text-sm",children:["Signed in as ",null===(j=y.user)||void 0===j?void 0:j.name]}),(0,s.jsx)("button",{onClick:()=>(0,i.CI)(),className:"block w-full text-center px-4 py-3 border border-gold-accent/30 rounded-lg text-gold-accent font-medium hover:bg-gold-accent hover:text-coffee-dark transition-all",children:"Sign Out"})]}):(0,s.jsxs)("div",{className:"space-y-3 px-4",children:[(0,s.jsx)(n(),{href:"/auth/signup",className:"block w-full text-center px-4 py-3 text-coffee-cream hover:text-gold-accent font-medium transition-all",onClick:O,children:"Sign Up"}),(0,s.jsx)("button",{onClick:()=>(0,i.Jv)(),className:"block w-full text-center px-4 py-3 bg-gold-accent text-coffee-dark rounded-lg font-bold hover:bg-gold-light transition-all",children:"Sign In"})]})})]})})}),(0,s.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-coffee-dark/95 backdrop-blur-md border-t border-gold-accent/10 py-2 flex justify-around items-center md:hidden",children:[(0,s.jsxs)(n(),{href:"/",className:"flex flex-col items-center text-gold-accent",children:[(0,s.jsx)(d.A,{size:24}),(0,s.jsx)("span",{className:"text-xs",children:"Home"})]}),(0,s.jsxs)("button",{onClick:()=>w(!0),className:"flex flex-col items-center text-gold-accent",children:[(0,s.jsx)(x.A,{size:24}),(0,s.jsx)("span",{className:"text-xs",children:"Cart"})]}),(0,s.jsxs)(n(),{href:"/favorites",className:"flex flex-col items-center text-gold-accent",children:[(0,s.jsx)(p.A,{size:24}),(0,s.jsx)("span",{className:"text-xs",children:"Favorites"})]}),(0,s.jsxs)(n(),{href:"/profile",className:"flex flex-col items-center text-gold-accent",children:[(0,s.jsx)(h.A,{size:24}),(0,s.jsx)("span",{className:"text-xs",children:"Profile"})]})]})]})}var y=r(5870),N=r(6527),w=r(3473),k=r(5686);function C(){let{items:e,removeItem:t,updateQuantity:r,total:o,isOpen:l,setIsOpen:n}=(0,c._)(),i=(0,a.useRouter)();return(0,s.jsx)(v.N,{children:l&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1),className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-60"}),(0,s.jsxs)(b.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},drag:"x",dragConstraints:{left:0,right:0},onDragEnd:(e,t)=>{t.offset.x>100&&n(!1)},className:"fixed top-0 right-0 h-full w-full max-w-md bg-white shadow-2xl z-70 flex flex-col",children:[(0,s.jsxs)("div",{className:"p-6 bg-coffee-dark text-white flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(y.A,{className:"text-gold-accent"}),(0,s.jsx)("h2",{className:"text-xl font-bold font-serif",children:"Your Order"}),(0,s.jsxs)("span",{className:"bg-gold-accent text-coffee-dark text-xs font-bold px-2 py-0.5 rounded-full",children:[e.reduce((e,t)=>e+t.quantity,0)," items"]})]}),(0,s.jsx)("button",{onClick:()=>n(!1),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:(0,s.jsx)(u.A,{size:20})})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:0===e.length?(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 space-y-4",children:[(0,s.jsx)(y.A,{size:64,className:"opacity-20"}),(0,s.jsx)("p",{className:"text-lg font-medium",children:"Your cart is empty"}),(0,s.jsx)("button",{onClick:()=>n(!1),className:"text-amber-600 font-semibold hover:underline",children:"Browse Menu"})]}):e.map(e=>(0,s.jsx)(b.P.div,{layout:!0,className:"flex gap-4 bg-gray-50 p-4 rounded-xl",children:(0,s.jsxs)("div",{className:"flex-1 flex flex-col justify-between",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h3",{className:"font-bold text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"font-bold text-amber-600",children:e.price})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-white rounded-lg border border-gray-200 p-1",children:[(0,s.jsx)("button",{onClick:()=>r(e.id,-1),className:"p-1 hover:bg-gray-100 rounded-md transition-colors",children:(0,s.jsx)(N.A,{size:14})}),(0,s.jsx)("span",{className:"text-sm font-medium w-4 text-center",children:e.quantity}),(0,s.jsx)("button",{onClick:()=>r(e.id,1),className:"p-1 hover:bg-gray-100 rounded-md transition-colors",children:(0,s.jsx)(w.A,{size:14})})]}),(0,s.jsx)("button",{onClick:()=>t(e.id),className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,s.jsx)(k.A,{size:18})})]})]})},e.id))}),e.length>0&&(0,s.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,s.jsxs)("span",{className:"text-xl font-bold text-gray-900",children:["$",o.toFixed(2)]})]}),(0,s.jsx)("button",{className:"w-full bg-amber-600 hover:bg-amber-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-amber-600/20 transition-all active:scale-[0.98]",onClick:()=>{n(!1),i.push("/checkout")},children:"Checkout"})]})]})]})})}function S(e){let{children:t}=e,r=(0,a.usePathname)(),o=null==r?void 0:r.startsWith("/auth");return(0,s.jsxs)(s.Fragment,{children:[!o&&(0,s.jsx)(j,{}),!o&&(0,s.jsx)(C,{}),t]})}},4915:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>i,_:()=>c});var s=r(5155),a=r(2115),o=r(814);let l=(0,a.createContext)(void 0),n="brewhouse_cart";function i(e){let{children:t}=e,[r,i]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[x,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{try{let e=localStorage.getItem(n);if(e){let t=JSON.parse(e);i(t)}}catch(e){console.error("Failed to load cart from localStorage:",e)}finally{m(!0)}},[]),(0,a.useEffect)(()=>{if(x)try{localStorage.setItem(n,JSON.stringify(r))}catch(e){console.error("Failed to save cart to localStorage:",e)}},[r,x]);let f=r.reduce((e,t)=>e+parseFloat(t.price.replace("$",""))*t.quantity,0);return(0,s.jsx)(l.Provider,{value:{items:r,addItem:e=>{i(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}]),d(!0),o.o.success("Added ".concat(e.name," to cart"))},removeItem:e=>{i(t=>t.filter(t=>t.id!==e)),o.o.info("Item removed from cart")},updateQuantity:(e,t)=>{i(r=>r.map(r=>{if(r.id===e){let e=Math.max(0,r.quantity+t);return{...r,quantity:e}}return r}).filter(e=>e.quantity>0))},clearCart:()=>{i([]);try{localStorage.removeItem(n)}catch(e){console.error("Failed to clear cart from localStorage:",e)}o.o.success("Cart cleared")},total:f,isOpen:c,setIsOpen:d},children:t})}function c(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},5216:(e,t,r)=>{"use strict";r.d(t,{FavoritesProvider:()=>i,r:()=>c});var s=r(5155),a=r(2115),o=r(814);let l=(0,a.createContext)(void 0),n="brewhouse_favorites";function i(e){let{children:t}=e,[r,i]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1);(0,a.useEffect)(()=>{try{let e=localStorage.getItem(n);e&&i(JSON.parse(e))}catch(e){console.error("Failed to load favorites:",e)}finally{d(!0)}},[]),(0,a.useEffect)(()=>{if(c)try{localStorage.setItem(n,JSON.stringify(r))}catch(e){console.error("Failed to save favorites:",e)}},[r,c]);let x=(e,t)=>{i(t=>[...t,e]),o.o.success("Added ".concat(t," to favorites"))},m=e=>{i(t=>t.filter(t=>t!==e)),o.o.info("Removed from favorites")},f=e=>r.includes(e);return(0,s.jsx)(l.Provider,{value:{favorites:r,addFavorite:x,removeFavorite:m,isFavorite:f,toggleFavorite:(e,t)=>{f(e)?m(e):x(e,t)}},children:t})}function c(){let e=(0,a.useContext)(l);if(!e)throw Error("useFavorites must be used within FavoritesProvider");return e}},7488:(e,t,r)=>{"use strict";r.d(t,{LoyaltyProvider:()=>d,O:()=>x});var s=r(5155),a=r(2115),o=r(5313);let l=(0,a.createContext)(void 0),n="brewhouse_loyalty",i={silver:500,gold:1e3},c={bronze:["Earn 1 point per $1 spent","Birthday reward"],silver:["Earn 1.5 points per $1 spent","Free drink on signup","Early access to new products"],gold:["Earn 2 points per $1 spent","Free drink monthly","Exclusive events","20% off merchandise"]};function d(e){let{children:t}=e,[r,d]=(0,a.useState)(0),{orders:x}=(0,o.h)();(0,a.useEffect)(()=>{try{let e=localStorage.getItem(n);e&&d(JSON.parse(e))}catch(e){console.error("Failed to load loyalty points:",e)}},[]),(0,a.useEffect)(()=>{localStorage.setItem(n,JSON.stringify(r))},[r]),(0,a.useEffect)(()=>{x.length>0&&f(Math.floor(x[0].total))},[x]);let m=r>=i.gold?"gold":r>=i.silver?"silver":"bronze",f=e=>{d(t=>t+e)};return(0,s.jsx)(l.Provider,{value:{points:r,tier:m,addPoints:f,redeemPoints:e=>r>=e&&(d(t=>t-e),!0),getTierBenefits:()=>c[m]},children:t})}function x(){let e=(0,a.useContext)(l);if(!e)throw Error("useLoyalty must be used within a LoyaltyProvider");return e}},5313:(e,t,r)=>{"use strict";r.d(t,{OrderProvider:()=>n,h:()=>i});var s=r(5155),a=r(2115);let o=(0,a.createContext)(void 0),l="brewhouse_orders";function n(e){let{children:t}=e,[r,n]=(0,a.useState)([]),[i,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{try{let e=localStorage.getItem(l);e&&n(JSON.parse(e))}catch(e){console.error("Failed to load orders:",e)}finally{c(!0)}},[]),(0,a.useEffect)(()=>{if(i)try{localStorage.setItem(l,JSON.stringify(r))}catch(e){console.error("Failed to save orders:",e)}},[r,i]);let d=(e,t)=>{n(r=>r.map(r=>r.id===e?{...r,status:t}:r))};return(0,s.jsx)(o.Provider,{value:{orders:r,addOrder:e=>{let t={...e,id:"order-".concat(Date.now()),date:new Date().toISOString(),status:"pending"};n(e=>[t,...e]),setTimeout(()=>d(t.id,"preparing"),2e3),setTimeout(()=>d(t.id,"ready"),1e4)},getOrder:e=>r.find(t=>t.id===e),updateOrderStatus:d},children:t})}function i(){let e=(0,a.useContext)(o);if(!e)throw Error("useOrders must be used within OrderProvider");return e}},347:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[108,690,806,173,814,344,798,441,517,358],()=>t(194)),_N_E=e.O()}]);