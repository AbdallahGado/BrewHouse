(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{975:(e,s,t)=>{Promise.resolve().then(t.bind(t,7929))},3239:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6889:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2640:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7401).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},6046:(e,s,t)=>{"use strict";var a=t(6658);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},7929:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(5155),r=t(696),l=t(6046),n=t(2115),c=t(5313),d=t(4370),i=t(2640),o=t(719),m=t(6889),u=t(3239),x=t(814);function f(){var e;let{data:s,status:t}=(0,r.wV)(),f=(0,l.useRouter)(),{orders:h,updateOrderStatus:p}=(0,c.h)(),[b,g]=(0,n.useState)("all");if((0,n.useEffect)(()=>{var e;"unauthenticated"===t?f.push("/auth/signin"):(null==s?void 0:null===(e=s.user)||void 0===e?void 0:e.email)&&"admin@brewhouse.com"!==s.user.email&&(f.push("/"),x.o.error("Unauthorized access"))},[s,t,f]),"loading"===t)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-stone-50",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold-accent"})});if(!s||(null===(e=s.user)||void 0===e?void 0:e.email)!=="admin@brewhouse.com")return null;let j="all"===b?h:h.filter(e=>e.status===b),N=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"preparing":return"bg-blue-100 text-blue-800";case"ready":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return(0,a.jsxs)("div",{className:"min-h-screen bg-stone-50 pt-24 pb-12 px-4",children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("h1",{className:"text-3xl font-serif font-bold text-coffee-dark flex items-center gap-3",children:[(0,a.jsx)(i.A,{size:32,className:"text-gold-accent"}),"Admin Dashboard"]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("span",{className:"text-sm text-coffee-medium",children:["Welcome, ",s.user.name]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-coffee-light/10 mb-8",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 mb-6 overflow-x-auto pb-2",children:["all","pending","preparing","ready","completed"].map(e=>(0,a.jsx)("button",{onClick:()=>g(e),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap ".concat(b===e?"bg-gold-accent text-coffee-dark":"bg-stone-100 text-coffee-medium hover:bg-stone-200"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"text-left border-b border-gray-100",children:[(0,a.jsx)("th",{className:"pb-4 font-serif font-bold text-coffee-dark",children:"Order ID"}),(0,a.jsx)("th",{className:"pb-4 font-serif font-bold text-coffee-dark",children:"Customer"}),(0,a.jsx)("th",{className:"pb-4 font-serif font-bold text-coffee-dark",children:"Items"}),(0,a.jsx)("th",{className:"pb-4 font-serif font-bold text-coffee-dark",children:"Total"}),(0,a.jsx)("th",{className:"pb-4 font-serif font-bold text-coffee-dark",children:"Status"}),(0,a.jsx)("th",{className:"pb-4 font-serif font-bold text-coffee-dark",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-50",children:0===j.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"py-8 text-center text-gray-500",children:"No orders found"})}):j.map(e=>(0,a.jsxs)("tr",{className:"group hover:bg-stone-50",children:[(0,a.jsx)("td",{className:"py-4 font-mono text-sm",children:e.orderNumber}),(0,a.jsxs)("td",{className:"py-4",children:[(0,a.jsx)("div",{className:"font-medium text-coffee-dark",children:e.customerInfo.name}),(0,a.jsx)("div",{className:"text-xs text-coffee-medium",children:e.customerInfo.email})]}),(0,a.jsxs)("td",{className:"py-4",children:[(0,a.jsxs)("div",{className:"text-sm text-coffee-dark",children:[e.items.length," items"]}),(0,a.jsx)("div",{className:"text-xs text-coffee-medium truncate max-w-[200px]",children:e.items.map(e=>e.name).join(", ")})]}),(0,a.jsxs)("td",{className:"py-4 font-medium text-coffee-dark",children:["$",e.total.toFixed(2)]}),(0,a.jsx)("td",{className:"py-4",children:(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(N(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["pending"===e.status&&(0,a.jsx)("button",{onClick:()=>p(e.id,"preparing"),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Mark as Preparing",children:(0,a.jsx)(o.A,{size:16})}),"preparing"===e.status&&(0,a.jsx)("button",{onClick:()=>p(e.id,"ready"),className:"p-2 bg-yellow-100 text-yellow-600 rounded-lg hover:bg-yellow-200 transition-colors",title:"Mark as Ready",children:(0,a.jsx)(m.A,{size:16})}),"ready"===e.status&&(0,a.jsx)("button",{onClick:()=>p(e.id,"completed"),className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Mark as Completed",children:(0,a.jsx)(u.A,{size:16})})]})})]},e.id))})]})})]})]}),(0,a.jsx)(d.Footer,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[9806,814,6344,1600,8441,1517,7358],()=>s(975)),_N_E=e.O()}]);